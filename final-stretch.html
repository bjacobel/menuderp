<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="stylesheet" type="text/css" href="http://news.menuwat.ch/theme/css/style.css">
	<!--<link rel="stylesheet/less" type="text/css" href="/theme/css/style.less">-->
	<!--<script src="/theme/js/less.js" type="text/javascript"></script>-->
	<link rel="stylesheet" type="text/css" href="http://news.menuwat.ch/theme/css/pygments.css">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:800,400,300|Inconsolata' rel='stylesheet' type='text/css'>

	<link href="http://news.menuwat.ch/" type="application/atom+xml" rel="alternate" title="News | Menuwatch ATOM Feed" />


		<title>News | Menuwatch</title>
		<meta charset="utf-8" />
		<meta name="google-site-verification" content="qca7xirUgIqDqaVoA2tSXnoDs1QA45Qgoffdjb-bCng" />
</head>
<body>
	<section id="sidebar">
		<figure id="user_logo">
            <a href="http://news.menuwat.ch"><div class="logo"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="9.7 -8.98 52 52" enable-background="new 9.7 -8.98 52 52" xml:space="preserve"><g><circle fill="#918A8A" cx="35.7" cy="17.02" r="26"/><g><g><polygon fill="#E67E22" points="29.521,5.039 41.399,28.797 53.277,5.039"/></g></g><g><g><polygon fill="#3498DB" points="29.641,5.042 17.763,28.801 41.519,28.801"/></g></g></g></svg></div></a>
		</figure>

		<div class="user_meta">
            <h1 id="user"><a href="http://news.menuwat.ch" class="">Menuwatch</a></h1>
			<h2></h2>
			<p class="bio">A website designed around the Bowdoin dining experience. <a href="http://www.menuwat.ch">menuwat.ch</a></p>
			<ul>
					<li><a href="http://twitter.com/menuwatdotch">Twitter ></a></li>
					<li><a href="http://github.com/bjacobel/menuwatch">GitHub ></a></li>
			</ul>
		</div>
		<footer>
			<address>
				Powered by <a href="http://pelican.notmyidea.org/">Pelican</a>,
		                theme by <a href="https://github.com/wting/pelican-svbtle">wting</a>.
			</address>
		</footer>
	</section>

	<section id="posts">
	<header>
		<h1>Brian's blog</h1>
		<h3>Posted Thu 16 January 2014</h3>
	</header>
	<article>
		<h1 id="title">
			<a href="http://news.menuwat.ch/final-stretch.html" rel="bookmark"
				title="Permalink to Final Stretch">Final Stretch</a>
		</h1>
		<hr />
<p>I've spent the last few days doing a huge amount of bugfixing, testing and redesigning, and I'm happy to (optimistically and non-bindingly) announce that Menuwatch will be going live at the start of the semester. Here's what I've been working on:</p>
<h4>Unit testing</h4>
<p>Throughout its development and beta phase, a couple of weird bugs have cropped up in Menuwatch that I could never reproduce when I had time to fix them. To solve this, I wrote unit tests to fully cover Menuwatch's API views and scraper and mailer tasks. I was able to find the source of a bug where a food would persist as "upcoming" even though it's next day was in the past, and (I think) eliminate (though I'm still not sure of the source of) a bug where users would get emails about foods they didn't watch.</p>
<h4>Mobilization</h4>
<p>Two components of Menuwatch were quite broken on mobile devices: the app's top menubar and the main food table. To solve the menubar issue, I used a media query to hide the normal menu bar on small screens and <a href="http://ascott1.github.io/bigSlide.js/">jQuery BigSlide</a> to create a new "hamburger menu" better fit to mobile devices. I'm still working on mobilizing the food table.</p>
<h4>Auth</h4>
<p>I spent quite a bit of time beefing up the login and signup screens, most notably building a way for users to reset their passwords if they're locked out. My homegrown solution involves changing the user's password briefly to a 32-character random string, sending them an email with a link that holds their email and that new password as GET data, logging them in with that random password, then forcing them to set a new password. It would probably be a bit more secure if I set a time limit on how long the random password worked for, but security isn't a primary concern.</p>
<h4>Regrets</h4>
<p>I really wanted to switch Menuwatch over to using Sass, as I've been using it on <a href="https://github.com/bjacobel/bonus">another project</a> and it's pretty great. However, the combination of <code>contrib.staticfiles</code> (with S3 as a backend), <code>django-compressor</code>, getting Heroku to let me run the sass executable and finding a way to run it seamlessly in both dev and prod was too difficult. If anybody has figured this out, please tell me or point me to a post - I'd still love to know how to do it.</p>

		<div id="article_meta">
				Category:
					<a href="http://news.menuwat.ch/category/misc.html">misc</a>
		</div>
	</article>

	<footer>
		<a href="http://news.menuwat.ch/" class="button_accent">&larr;&nbsp;&nbsp;&nbsp;Back to blog</a>
	</footer>


	</section>

<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script type="text/javascript">
		try {
			var pageTracker = _gat._getTracker("UA-38327978-3");
			pageTracker._trackPageview();
		} catch(err) {}</script>
</body>
</html>